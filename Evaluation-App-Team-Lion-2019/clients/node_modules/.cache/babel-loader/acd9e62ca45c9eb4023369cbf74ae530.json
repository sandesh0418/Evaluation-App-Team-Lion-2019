{"ast":null,"code":"import _classCallCheck from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/src/components/dashboard/Assignment/addSubjects.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\n/**\n * props:\n *      assignmentId: the assignment to add the subjects to.\n */\n\nfunction ManualStudentEntry(props) {\n  return props.formData.map(function (d, index) {\n    return React.createElement(\"div\", {\n      key: index,\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, \"Full Name:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      id: index,\n      name: \"subjectName\",\n      value: props.formData[index].subjectName,\n      onChange: props.onChange,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, \"Unique Identifier:\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      id: index,\n      name: \"subjectId\",\n      value: props.formData[index].subjectId,\n      onChange: props.onChange,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    })));\n  });\n}\n\nfunction manualStudentEntryToString(list) {\n  var studentList = \"\";\n\n  for (var i = 0; i < list.length; i++) {\n    if (i === list.length - 1) {\n      studentList += list[i].subjectName + \",\" + list[i].subjectId;\n    } else {\n      studentList += list[i].subjectName + \",\" + list[i].subjectId + \"\\n\";\n    }\n  }\n\n  return studentList;\n}\n\nvar CreateAssignment =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateAssignment, _Component);\n\n  function CreateAssignment(props) {\n    var _this;\n\n    _classCallCheck(this, CreateAssignment);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateAssignment).call(this, props));\n    _this.updateManualStudentEntry = _this.updateManualStudentEntry.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addStudent = _this.addStudent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.changeFile = _this.changeFile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fileInput = React.createRef();\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      assignmentId: props.assignmentId,\n      showFileAlert: false,\n      showAddButton: false,\n      manualStudentEntry: []\n    };\n    return _this;\n  }\n\n  _createClass(CreateAssignment, [{\n    key: \"changeFile\",\n    value: function changeFile(e) {\n      if (!(this.fileInput.current.files[0].type === \"text/csv\")) {\n        this.setState({\n          showFileAlert: true\n        });\n      } else {\n        this.setState({\n          showFileAlert: false,\n          showAddButton: true\n        });\n      }\n    }\n  }, {\n    key: \"updateManualStudentEntry\",\n    value: function updateManualStudentEntry(e) {\n      var index = e.target.id;\n      var tempManualEntry = this.state.manualStudentEntry;\n\n      if (e.target.name === \"subjectName\") {\n        tempManualEntry[index].subjectName = e.target.value;\n      } else if (e.target.name === \"subjectId\") {\n        tempManualEntry[index].subjectId = e.target.value;\n      }\n\n      this.setState({\n        manualStudentEntry: tempManualEntry\n      });\n    }\n  }, {\n    key: \"addStudent\",\n    value: function addStudent(e) {\n      var tempManualEntry = this.state.manualStudentEntry;\n      tempManualEntry.push({\n        subjectName: '',\n        subjectId: ''\n      });\n      this.setState({\n        manualStudentEntry: tempManualEntry,\n        showAddButton: true\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n\n      if (this.fileInput.current.files[0]) {\n        var fileReader = new FileReader();\n\n        fileReader.onloadend = function (e) {\n          var subjectList = {\n            assignmentId: _this2.state.assignmentId,\n            subjectList: fileReader.result\n          };\n          axios.post('/assignments/addSubjects', subjectList).then(function (res) {\n            if (res.data.status) {\n              alert(res.data.message);\n              window.location.reload();\n            }\n          });\n        };\n\n        fileReader.readAsText(this.fileInput.current.files[0]);\n      } else {\n        var subjectList = {\n          assignmentId: this.state.assignmentId,\n          subjectList: \"Name,ID\\n\" + manualStudentEntryToString(this.state.manualStudentEntry)\n        };\n        axios.post('/assignments/addSubjects', subjectList).then(function (res) {\n          if (res.data.status) {\n            alert(res.data.message);\n            window.location.reload();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Add additional subjects from .csv file: \"), React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control-file\",\n        ref: this.fileInput,\n        onChange: this.changeFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), this.state.showFileAlert ? React.createElement(\"p\", {\n        className: \"text-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Invalid File\") : null), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(ManualStudentEntry, {\n        formData: this.state.manualStudentEntry,\n        onChange: this.updateManualStudentEntry,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-secondary mb-4\",\n        type: \"button\",\n        onClick: this.addStudent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Add Subject Manually\")), this.state.showAddButton ? React.createElement(\"input\", {\n        className: \"btn btn-sm btn-primary\",\n        type: \"submit\",\n        value: \"Add Subjects\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return CreateAssignment;\n}(Component);\n\nexport { CreateAssignment as default };","map":{"version":3,"sources":["/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/src/components/dashboard/Assignment/addSubjects.js"],"names":["React","Component","axios","ManualStudentEntry","props","formData","map","d","index","subjectName","onChange","subjectId","manualStudentEntryToString","list","studentList","i","length","CreateAssignment","updateManualStudentEntry","bind","addStudent","changeFile","fileInput","createRef","onSubmit","state","assignmentId","showFileAlert","showAddButton","manualStudentEntry","e","current","files","type","setState","target","id","tempManualEntry","name","value","push","preventDefault","fileReader","FileReader","onloadend","subjectList","result","post","then","res","data","status","alert","message","window","location","reload","readAsText"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from \"axios\";\n\n/**\n * props:\n *      assignmentId: the assignment to add the subjects to.\n */\n\n\nfunction ManualStudentEntry(props)\n{\n    return props.formData.map((d, index) => {\n        return (\n            <div key={index} className=\"row\">\n                <div className=\"col-5\">\n                    <span>Full Name:</span>\n                    <input \n                        className=\"form-control\" \n                        id={index}\n                        name=\"subjectName\" \n                        value={props.formData[index].subjectName}\n                        onChange={props.onChange} \n                        type=\"text\" \n                    />\n                </div>\n                <div className=\"col-5\">\n                    <span>Unique Identifier:</span>\n                    <input \n                        className=\"form-control\" \n                        id={index}\n                        name=\"subjectId\" \n                        value={props.formData[index].subjectId}\n                        onChange={props.onChange} \n                        type=\"text\" \n                    />\n                </div>\n            </div>\n        )\n    })\n}\n\nfunction manualStudentEntryToString(list)\n{\n    let studentList = \"\";\n\n    for(let i = 0; i < list.length; i++)\n    {\n        if (i === list.length - 1)\n        {\n            studentList += list[i].subjectName + \",\" + list[i].subjectId;\n        }\n        else\n        {\n            studentList += list[i].subjectName + \",\" + list[i].subjectId + \"\\n\";\n        }\n    }\n\n    return studentList;\n}\n\nexport default class CreateAssignment extends Component\n{\n    constructor(props)\n    {\n        super(props);\n        this.updateManualStudentEntry = this.updateManualStudentEntry.bind(this);\n        this.addStudent = this.addStudent.bind(this);\n        this.changeFile = this.changeFile.bind(this);\n        this.fileInput = React.createRef();\n        this.onSubmit = this.onSubmit.bind(this);\n        this.state = {\n            assignmentId: props.assignmentId,\n            showFileAlert: false,\n            showAddButton: false,\n            manualStudentEntry: []\n        }\n    }\n\n    changeFile(e)\n    {\n        if (!(this.fileInput.current.files[0].type === \"text/csv\"))\n        {\n            this.setState({\n                showFileAlert: true\n            })\n        }\n        else\n        {\n            this.setState({\n                showFileAlert: false,\n                showAddButton: true\n            })\n        }\n    }\n\n    updateManualStudentEntry(e)\n    {\n        let index = e.target.id;\n        let tempManualEntry = this.state.manualStudentEntry;\n\n        if(e.target.name === \"subjectName\")\n        {\n            tempManualEntry[index].subjectName = e.target.value\n        }\n        else if (e.target.name === \"subjectId\")\n        {\n            tempManualEntry[index].subjectId = e.target.value\n        }\n\n        this.setState({\n            manualStudentEntry: tempManualEntry\n        })\n    }\n\n    addStudent(e)\n    {\n        let tempManualEntry = this.state.manualStudentEntry;\n        tempManualEntry.push({\n            subjectName: '',\n            subjectId: ''\n        })\n\n        this.setState({\n            manualStudentEntry: tempManualEntry,\n            showAddButton: true\n        })\n    }\n\n    onSubmit(e)\n    {\n        e.preventDefault();\n\n        if (this.fileInput.current.files[0])\n        {\n            let fileReader = new FileReader();\n            fileReader.onloadend = e => {\n\n                let subjectList = {\n                    assignmentId: this.state.assignmentId,\n                    subjectList: fileReader.result\n                }\n                \n                axios.post('/assignments/addSubjects', subjectList)\n                    .then(res =>  {\n                        if (res.data.status)\n                        {\n                            alert(res.data.message);\n                            window.location.reload();\n                        }\n                    });\n            }\n            fileReader.readAsText(this.fileInput.current.files[0]);\n        }\n        else\n        {\n            let subjectList = {\n                assignmentId: this.state.assignmentId,\n                subjectList: \"Name,ID\\n\" + manualStudentEntryToString(this.state.manualStudentEntry)\n            }\n\n            axios.post('/assignments/addSubjects', subjectList)\n                .then(res =>  {\n                    if (res.data.status)\n                    {\n                        alert(res.data.message);\n                        window.location.reload();\n                    }\n                });\n        }\n    }\n\n    render()\n    {\n        return (\n            <form onSubmit={this.onSubmit}>\n                <div className=\"form-group\">\n                    <label>Add additional subjects from .csv file: </label>\n                    <input type=\"file\" className=\"form-control-file\" ref={this.fileInput} onChange={this.changeFile} />\n                    {this.state.showFileAlert ? <p className=\"text-danger\">Invalid File</p>: null}\n                </div>\n                <div className=\"form-group\">\n                    <ManualStudentEntry formData={this.state.manualStudentEntry} onChange={this.updateManualStudentEntry} />\n                </div>\n                <div>\n                    <button className=\"btn btn-secondary mb-4\" type=\"button\" \n                    onClick={this.addStudent}>Add Subject Manually</button>\n                </div>\n                {this.state.showAddButton ? \n                    <input \n                        className=\"btn btn-sm btn-primary\" \n                        type=\"submit\" \n                        value=\"Add Subjects\" \n                    /> \n                    : null}\n            </form>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}