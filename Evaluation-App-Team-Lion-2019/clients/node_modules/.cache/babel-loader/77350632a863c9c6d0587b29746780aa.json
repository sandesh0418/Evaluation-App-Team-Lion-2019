{"ast":null,"code":"import _defineProperty from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/src/components/dashboard/viewSummary/viewSummary.js\";\nimport React, { Component } from 'react';\nimport './viewSummary.css';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Alert } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\n\nvar ProgramSummaryBody = function ProgramSummaryBody(props) {\n  return props.state.programSummary.outcomes.map(function (currentOutcome, i) {\n    return React.createElement(Outcome, {\n      outcome: currentOutcome,\n      state: props.state,\n      key: currentOutcome.Outcome_ID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12\n      },\n      __self: this\n    });\n  });\n};\n\nfunction Outcome(props) {\n  var curriculumElements = props.outcome.courses.map(function (c) {\n    return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, c.departmentCode + \" \" + c.courseCode + \" - \" + c.name + \". \" + c.relevantHours + \" hours.\");\n  });\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    className: \"p-2\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"h4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, props.outcome.Outcome_Name), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, props.outcome.Description), React.createElement(\"details\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"summary\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Curriculum Elements\"), curriculumElements)), React.createElement(\"td\", {\n    className: \"p-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(Measures, {\n    measures: props.outcome.measures,\n    state: props.state,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  })));\n}\n\nfunction Measures(props) {\n  return props.measures.map(function (currentMeasure, i) {\n    return React.createElement(\"div\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"bold mr-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, currentMeasure.Measure_Name)), React.createElement(\"a\", {\n      href: \"/measureReport/\" + currentMeasure.Measure_ID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"At least \" + currentMeasure.Percent_to_reach_target * 100 + \"% of subjects score a \" + (currentMeasure.Value_Name ? \"'\" + currentMeasure.Value_Name + \"'\" : currentMeasure.Target_Score * 100 + \"%\") + \" or higher on \" + currentMeasure.Tool_Name + \".\"), currentMeasure.Description ? React.createElement(\"details\", {\n      className: \"ml-3 mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"summary\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Additional description: \"), React.createElement(\"p\", {\n      className: \"ml-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, currentMeasure.Description)) : null, props.state.reportMode ? React.createElement(Statistics, {\n      state: props.state,\n      measure: currentMeasure,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }) : null, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }));\n  });\n}\n\nfunction Statistics(props) {\n  var target;\n  target = props.measure.Percent_to_reach_target * 100;\n  console.log(target);\n  var achieved = (props.measure.metTarget / props.measure.totalEvaluated * 100).toFixed(2);\n  console.log(achieved);\n  var colorToBe;\n\n  if (achieved > target) {\n    colorToBe = \"success\";\n  } else if (achieved < target) {\n    colorToBe = \"danger\";\n  } else {\n    colorToBe = \"warning\";\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, props.measure.totalEvaluated !== 0 ? React.createElement(Alert, {\n    color: colorToBe,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"mr-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Measure statistics: \", (props.measure.metTarget / props.measure.totalEvaluated * 100).toFixed(2), \"% of evaluations have met the target score of \", props.measure.Value_Name ? \"'\" + props.measure.Value_Name + \"'\" : props.measure.Target_Score * 100 + \"%\", \".\")) : null, React.createElement(Alert, {\n    color: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \" \", props.measure.totalEvaluated, \" subjects have been evaluated.\"));\n}\n\nvar ViewSummary =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ViewSummary, _Component);\n\n  function ViewSummary(props) {\n    var _this;\n\n    _classCallCheck(this, ViewSummary);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewSummary).call(this, props));\n    _this.setView = _this.setView.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      reportMode: false,\n      programSummary: null,\n      total: 0,\n      metTarget: 0\n    };\n    return _this;\n  }\n\n  _createClass(ViewSummary, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //console.log(\"Inside componentDidMount\");\n      this.setView();\n    }\n  }, {\n    key: \"setView\",\n    value: function setView() {\n      // console.log(\"Inside setView\");\n      if (window.location.pathname === \"/summaryReport\") {\n        this.getSummaryWithStatistics();\n        this.setState({\n          reportMode: true\n        });\n      } else {\n        this.getSummary();\n      }\n    }\n  }, {\n    key: \"getSummaryWithStatistics\",\n    value: function getSummaryWithStatistics() {\n      var _this2 = this;\n\n      axios.get('/summaryReport/measureStatistics/' + localStorage.getItem(\"Cycle_Id\")).then(function (res) {\n        console.log(res.data);\n\n        _this2.setState({\n          programSummary: res.data.programSummary\n        });\n      });\n    }\n  }, {\n    key: \"getSummary\",\n    value: function getSummary() {\n      var _this3 = this;\n\n      console.log(localStorage.getItem(\"Cycle_Id\"));\n      axios.get('/summaryReport/getSummary/' + localStorage.getItem(\"Cycle_Id\")).then(function (res) {\n        console.log(res.data);\n\n        _this3.setState({\n          programSummary: res.data.programSummary\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.programSummary === null) {\n        return React.createElement(Loader, {\n          type: \"Oval\",\n          color: \"black\",\n          height: \"100\",\n          width: \"100\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        });\n      } else if (this.state.programSummary === undefined) {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"There was an error getting the program summary.\");\n      } else {\n        var _React$createElement, _React$createElement2;\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, this.state.programSummary.title), React.createElement(\"table\", {\n          className: \"table table-bordered\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(\"th\", (_React$createElement = {\n          className: \"p-2\",\n          scope: \"col\"\n        }, _defineProperty(_React$createElement, \"className\", \"outcome-width\"), _defineProperty(_React$createElement, \"__source\", {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), \"Learning Outcomes\"), React.createElement(\"th\", (_React$createElement2 = {\n          className: \"p-2\",\n          scope: \"col\"\n        }, _defineProperty(_React$createElement2, \"className\", \"measure-width\"), _defineProperty(_React$createElement2, \"__source\", {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        }), _defineProperty(_React$createElement2, \"__self\", this), _React$createElement2), \"Measures of Performace\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(ProgramSummaryBody, {\n          state: this.state,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }))), React.createElement(\"button\", {\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \" \", React.createElement(\"a\", {\n          href: \"/editProgramSummary\",\n          style: {\n            color: \"white\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"Edit Program Summary\"))));\n      }\n    }\n  }]);\n\n  return ViewSummary;\n}(Component);\n\nexport { ViewSummary as default };\nAlert.propTypes = {\n  className: PropTypes.string,\n  closeClassName: PropTypes.string,\n  color: PropTypes.string,\n  // default: 'success'\n  isOpen: PropTypes.bool,\n  // default: true\n  toggle: PropTypes.func,\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]) //fade: PropTypes.bool, // default: true\n  // Controls the transition of the alert fading in and out\n  // See Fade for more details\n  //transition: PropTypes.shape(Fade.propTypes),\n\n};","map":{"version":3,"sources":["/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/src/components/dashboard/viewSummary/viewSummary.js"],"names":["React","Component","axios","Link","Alert","PropTypes","Loader","ProgramSummaryBody","props","state","programSummary","outcomes","map","currentOutcome","i","Outcome_ID","Outcome","curriculumElements","outcome","courses","c","departmentCode","courseCode","name","relevantHours","Outcome_Name","Description","measures","Measures","currentMeasure","Measure_Name","Measure_ID","Percent_to_reach_target","Value_Name","Target_Score","Tool_Name","reportMode","Statistics","target","measure","console","log","achieved","metTarget","totalEvaluated","toFixed","colorToBe","ViewSummary","setView","bind","total","window","location","pathname","getSummaryWithStatistics","setState","getSummary","get","localStorage","getItem","then","res","data","undefined","title","color","propTypes","className","string","closeClassName","isOpen","bool","toggle","func","tag","oneOfType"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './viewSummary.css';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Alert } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\n\nconst ProgramSummaryBody = props =>\n{\n    return props.state.programSummary.outcomes.map(function(currentOutcome, i){\n        return <Outcome outcome={currentOutcome} state={props.state} key={currentOutcome.Outcome_ID} />;\n    });\n}\n\nfunction Outcome(props)\n{\n    let curriculumElements = props.outcome.courses.map(c => {\n        return <p>{c.departmentCode + \" \" + c.courseCode + \" - \" + c.name + \". \" + c.relevantHours + \" hours.\"}</p>\n    })\n\n    return (\n        <tr>\n            <th className=\"p-2\" scope=\"row\">\n                <p className=\"h4\">{props.outcome.Outcome_Name}</p>\n                <p>{props.outcome.Description}</p>\n                <details>\n                    <summary>Curriculum Elements</summary>\n                    {curriculumElements}\n                </details>\n            </th>\n            <td className=\"p-2\"><Measures measures={props.outcome.measures} state={props.state}  /></td>\n        </tr>\n    )\n}\n\nfunction Measures(props)\n{\n    return props.measures.map(function(currentMeasure, i){\n        return (\n            <div key={i}>\n                <span className=\"bold mr-3\"><strong>{currentMeasure.Measure_Name}</strong></span>\n                <a href={\"/measureReport/\" + currentMeasure.Measure_ID}>\n                    {\"At least \" + (currentMeasure.Percent_to_reach_target * 100) + \"% of subjects score a \" + \n                    (currentMeasure.Value_Name ? \"'\" + currentMeasure.Value_Name + \"'\" : \n                    (currentMeasure.Target_Score * 100) + \"%\") +\" or higher on \" + currentMeasure.Tool_Name + \".\"}\n                </a>\n                {currentMeasure.Description ?  \n                    <details className=\"ml-3 mb-3\">\n                        <summary>Additional description: </summary>\n                        <p className=\"ml-3\">{currentMeasure.Description}</p>\n                    </details>\n                    : null}\n                {props.state.reportMode ? <Statistics state={props.state} measure={currentMeasure} /> : null}\n                <hr/>\n            </div>\n            \n        )\n    });\n}\n\nfunction Statistics(props)\n{\n    \n    var target ;\n    target = props.measure.Percent_to_reach_target*100;\n    console.log(target);\n    var achieved = ((props.measure.metTarget / props.measure.totalEvaluated) * 100).toFixed(2);\n    console.log(achieved);\n    let colorToBe;\n    if (achieved > target){\n        colorToBe = \"success\";\n    }\n    else if(achieved < target){\n        colorToBe =\"danger\";\n    }\n    else {\n        colorToBe=\"warning\";\n    }\n    return <div>\n            {props.measure.totalEvaluated !== 0 ? \n                <Alert color={colorToBe}>\n                <span className=\"mr-4\">Measure statistics: {((props.measure.metTarget / props.measure.totalEvaluated) * 100).toFixed(2)}% of \n                evaluations have met the target score of {(props.measure.Value_Name ? \"'\" + props.measure.Value_Name + \"'\" : \n                    (props.measure.Target_Score * 100) + \"%\")}.</span></Alert> : null}\n            <Alert color=\"info\"> {props.measure.totalEvaluated} subjects have been evaluated.</Alert>\n            </div>\n}\n\nexport default class ViewSummary extends Component \n{\n    \n    constructor(props){\n        super(props);\n        this.setView = this.setView.bind(this);\n        this.state = {\n            reportMode: false,\n            programSummary: null,\n            total: 0,\n            metTarget: 0\n        };\n    }\n\n    componentDidMount()\n    {\n        //console.log(\"Inside componentDidMount\");\n        this.setView();\n    }\n\n    setView()\n    {\n       // console.log(\"Inside setView\");\n        if (window.location.pathname===\"/summaryReport\")\n        {\n            this.getSummaryWithStatistics();\n            this.setState({\n                reportMode: true\n            });\n        }\n        else\n        {\n            this.getSummary();\n        }\n    }\n\n    getSummaryWithStatistics()\n    {\n        axios.get('/summaryReport/measureStatistics/' + localStorage.getItem(\"Cycle_Id\"))\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    programSummary: res.data.programSummary\n                })\n            })\n    }\n\n    getSummary()\n    {\n        console.log(localStorage.getItem(\"Cycle_Id\"));\n        axios.get('/summaryReport/getSummary/' + localStorage.getItem(\"Cycle_Id\"))\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    programSummary: res.data.programSummary\n                })\n            })\n    }\n\n    render()\n    {\n        if(this.state.programSummary === null)\n        {\n            return <Loader \n                type=\"Oval\"\n                color=\"black\"\n                height=\"100\"\t\n                width=\"100\"\n            />\n        }\n        else if (this.state.programSummary === undefined)\n        {\n            return <p>There was an error getting the program summary.</p>\n        }\n        else\n        {\n            return (\n                <div>\n                   <div>\n                    <h1>{this.state.programSummary.title}</h1>\n                \n                    <table className=\"table table-bordered\">\n                        <thead>\n                            <tr>\n                                <th className=\"p-2\" scope=\"col\" className=\"outcome-width\">Learning Outcomes</th>\n                                <th className=\"p-2\" scope=\"col\" className=\"measure-width\">Measures of Performace</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <ProgramSummaryBody state={this.state} />\n                        </tbody>\n                    </table>\n                    <button className=\"btn btn-primary\" > <a href=\"/editProgramSummary\"  style={{color: \"white\"}}>Edit Program Summary</a></button>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\n\nAlert.propTypes = {\n    className: PropTypes.string,\n    closeClassName: PropTypes.string,\n    color: PropTypes.string, // default: 'success'\n    isOpen: PropTypes.bool,  // default: true\n    toggle: PropTypes.func,\n    tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n    //fade: PropTypes.bool, // default: true\n    // Controls the transition of the alert fading in and out\n    // See Fade for more details\n    //transition: PropTypes.shape(Fade.propTypes),\n  }"]},"metadata":{},"sourceType":"module"}