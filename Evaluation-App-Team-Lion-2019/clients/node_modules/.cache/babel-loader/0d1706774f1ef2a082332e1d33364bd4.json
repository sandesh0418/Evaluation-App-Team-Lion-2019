{"ast":null,"code":"import _classCallCheck from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/src/components/dashboard/viewSummary/viewSummary.js\";\nimport React, { Component } from 'react';\nimport './viewSummary.css';\nimport axios from 'axios';\nvar dummyMeasure = {\n  Description: '',\n  Percent_to_reach_target: 0,\n  Target_Score: 0\n};\nvar dummyOutcome = {\n  Outcome_ID: 3,\n  Description: 'outcome 3',\n  measures: [dummyMeasure]\n};\nvar dummySummary = {\n  title: \"Assessment 2019\",\n  outcomes: [dummyOutcome]\n};\n\nvar ProgramSummaryBody = function ProgramSummaryBody(props) {\n  return props.state.programSummary.outcomes.map(function (currentOutcome, i) {\n    return React.createElement(Outcome, {\n      outcome: currentOutcome,\n      state: props.state,\n      key: currentOutcome.Outcome_ID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    });\n  });\n};\n\nvar Outcome = function Outcome(props) {\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, props.outcome.Description), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(Measures, {\n    measures: props.outcome.measures,\n    state: props.state,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  })));\n};\n\nfunction Measures(props) {\n  return props.measures.map(function (currentMeasure, i) {\n    return React.createElement(\"div\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, currentMeasure.Description), props.state.reportMode ? React.createElement(Statistics, {\n      state: props.state,\n      measure: currentMeasure,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }) : null);\n  });\n}\n\nfunction Statistics(props) {\n  return React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Measure statistics: \", (props.measure.metTarget / props.measure.total * 100).toFixed(2), \"% of evaluations have met the target score of 3. \", props.measure.total, \" subjects have been evaluated.\");\n}\n\nvar ViewSummary =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ViewSummary, _Component);\n\n  function ViewSummary(props) {\n    var _this;\n\n    _classCallCheck(this, ViewSummary);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewSummary).call(this, props));\n    _this.handleEditModeClick = _this.handleEditClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setView = _this.setView.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      editMode: false,\n      reportMode: false,\n      programSummary: dummySummary,\n      total: 0,\n      metTarget: 0\n    };\n    return _this;\n  }\n\n  _createClass(ViewSummary, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"Inside componentDidMount\");\n      this.setView();\n    }\n  }, {\n    key: \"setView\",\n    value: function setView() {\n      console.log(\"Inside setView\");\n\n      if (window.location.pathname === \"/summaryReport\") {\n        this.getSummaryWithStatistics();\n        this.setState({\n          reportMode: true\n        });\n      } else {\n        this.getSummary();\n      }\n    }\n  }, {\n    key: \"getSummaryWithStatistics\",\n    value: function getSummaryWithStatistics() {\n      var _this2 = this;\n\n      axios.get('http://localhost:5000/summaryReport/measureStatistics').then(function (res) {\n        console.log(res.data);\n\n        _this2.setState({\n          total: res.data.total,\n          metTarget: res.data.metTarget\n        });\n      });\n    }\n  }, {\n    key: \"getSummary\",\n    value: function getSummary() {\n      var _this3 = this;\n\n      console.log(\"Inside getSummary\");\n      axios.get('http://localhost:5000/summaryReport/getSummary').then(function (res) {\n        console.log(res.data);\n\n        _this3.setState({\n          programSummary: res.data.programSummary\n        });\n      });\n    }\n  }, {\n    key: \"handleEditClick\",\n    value: function handleEditClick() {\n      this.setState({\n        editMode: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var editMode = this.state.editMode;\n      var addOutcomeButton;\n\n      if (editMode) {\n        addOutcomeButton = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"Add Outcome\"));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, this.state.programSummary.title), React.createElement(\"table\", {\n        className: \"table table-bordered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"outcome-width\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Learning Outcomes\"), React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"measure-width\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Measures of Performace\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(ProgramSummaryBody, {\n        state: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }))), addOutcomeButton, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        onClick: this.handleEditClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Edit Program Summary\"));\n    }\n  }]);\n\n  return ViewSummary;\n}(Component);\n\nexport { ViewSummary as default };","map":{"version":3,"sources":["/Users/RyanBlomquist/Documents/GitHub/Evaluation-App-Team-Lion-2019/Evaluation-App-Team-Lion-2019/clients/src/components/dashboard/viewSummary/viewSummary.js"],"names":["React","Component","axios","dummyMeasure","Description","Percent_to_reach_target","Target_Score","dummyOutcome","Outcome_ID","measures","dummySummary","title","outcomes","ProgramSummaryBody","props","state","programSummary","map","currentOutcome","i","Outcome","outcome","Measures","currentMeasure","reportMode","Statistics","measure","metTarget","total","toFixed","ViewSummary","handleEditModeClick","handleEditClick","bind","setView","editMode","console","log","window","location","pathname","getSummaryWithStatistics","setState","getSummary","get","then","res","data","addOutcomeButton"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './viewSummary.css';\nimport axios from 'axios';\n\nvar dummyMeasure = {\n    Description: '',\n    Percent_to_reach_target: 0,\n    Target_Score: 0\n}\n\nvar dummyOutcome = {\n    Outcome_ID: 3,\n    Description: 'outcome 3',\n    measures: [dummyMeasure]\n}\n\nvar dummySummary = {\n    title: \"Assessment 2019\",\n    outcomes: [dummyOutcome]\n};\n\nconst ProgramSummaryBody = props =>\n{\n    return props.state.programSummary.outcomes.map(function(currentOutcome, i){\n        return <Outcome outcome={currentOutcome} state={props.state} key={currentOutcome.Outcome_ID} />;\n    });\n}\n\nconst Outcome = props => (\n    <tr>\n        <th scope=\"row\">{props.outcome.Description}</th>\n        <td><Measures measures={props.outcome.measures} state={props.state}  /></td>\n    </tr>\n)\n\nfunction Measures(props)\n{\n    return props.measures.map(function(currentMeasure, i){\n        return (\n            <div key={i}>\n                <p>{currentMeasure.Description}</p>\n                {props.state.reportMode ? <Statistics state={props.state} measure={currentMeasure} /> : null}\n            </div>\n        )\n    });\n}\n\nfunction Statistics(props)\n{\n    return <p>\n            Measure statistics: {((props.measure.metTarget /props.measure.total) * 100).toFixed(2)}% of \n            evaluations have met the target score of 3. {props.measure.total} subjects have been evaluated.\n            </p>\n}\n\nexport default class ViewSummary extends Component \n{\n    \n    constructor(props){\n        super(props);\n        this.handleEditModeClick = this.handleEditClick.bind(this);\n        this.setView = this.setView.bind(this);\n        this.state = {\n            editMode: false,\n            reportMode: false,\n            programSummary: dummySummary,\n            total: 0,\n            metTarget: 0\n        };\n    }\n\n    componentDidMount()\n    {\n        console.log(\"Inside componentDidMount\");\n        this.setView();\n    }\n\n    setView()\n    {\n        console.log(\"Inside setView\");\n        if (window.location.pathname===\"/summaryReport\")\n        {\n            this.getSummaryWithStatistics();\n            this.setState({\n                reportMode: true\n            });\n        }\n        else\n        {\n            this.getSummary();\n        }\n    }\n\n    getSummaryWithStatistics()\n    {\n        axios.get('http://localhost:5000/summaryReport/measureStatistics')\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    total: res.data.total,\n                    metTarget: res.data.metTarget\n                })\n            })\n    }\n\n    getSummary()\n    {\n        console.log(\"Inside getSummary\");\n        axios.get('http://localhost:5000/summaryReport/getSummary')\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    programSummary: res.data.programSummary\n                })\n            })\n    }\n\n    handleEditClick()\n    {\n        this.setState({editMode: true});\n    }\n\n    render()\n    {\n        const editMode = this.state.editMode;\n        let addOutcomeButton;\n\n        if (editMode)\n        {\n            addOutcomeButton = <div><button type=\"button\" className=\"btn btn-primary\">Add Outcome</button></div>\n        }\n\n        return (\n            <div>\n                <h1>{this.state.programSummary.title}</h1>\n            \n                <table className=\"table table-bordered\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\" className=\"outcome-width\">Learning Outcomes</th>\n                            <th scope=\"col\" className=\"measure-width\">Measures of Performace</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <ProgramSummaryBody state={this.state} />\n                    </tbody>\n                </table>\n                {addOutcomeButton}\n                <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleEditClick}>Edit Program Summary</button>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}